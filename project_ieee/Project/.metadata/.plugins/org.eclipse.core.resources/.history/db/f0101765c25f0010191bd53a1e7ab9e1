/*
 * main.c
 *
 *  Created on: Dec 6, 2024
 *      Author: s
 */

#include "main.h"

volatile uint8_t speed = 0;
volatile uint8_t distance = 0;
volatile uint8 acc_enabled = 1;

int main (void) {
	ADC_vidInit();
	LCD_vidInit();
	LCD_vidWriteStr("speed:");
	LCD_vidGoto(2, 1);
	LCD_vidWriteStr("distance:");

	while(1) {
		speed = (ADC_u16ReadDigitalVal(ADC_CHANNEL1) * 100) / 1023;
//		if(speed > 100) {
//			speed = 100;
//		}
		LCD_vidGoto(1, 6);
		LCD_vidWriteInt(speed);
		LCD_vidGoto(1, 10);
		LCD_vidWriteStr("km/h");

	}
	return 0;
}

ISR(INT0_vec) {
	acc_enabled ^= 1;
}
